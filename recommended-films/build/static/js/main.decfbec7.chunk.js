(this["webpackJsonprecommended-films"]=this["webpackJsonprecommended-films"]||[]).push([[0],{116:function(e,t,n){e.exports={header:"App_header__25i_j"}},128:function(e,t,n){},201:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),s=(n(128),n(43)),l=n(207),o=n(206),j=n(88),m=n.n(j),d=n(5),u=l.a.Title,f=l.a.Text,b=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{className:m.a.headerTitle,children:"Recommended Films"}),Object(d.jsx)(o.a,{className:m.a.headerDivider,type:"vertical"}),Object(d.jsx)(f,{className:m.a.headerText,children:"This is a page, where you rate different genres and get films you should like. You can also rate films."})]})},x=n(210),g=n(213),O=n(115),h=n(208),p=n(212),_=n(209),v=n(44),y=n(120),N=n(214),C=n(215),T=n(216),R=n(217),S=n(218),F=n(219),w=n(63),I=n.n(w),A=(n(201),h.a.Step),D=l.a.Title,k=function(e){var t=e.ws,n=r.a.useState({name:"",comedy:3,"sci-fi":3,entertainment:3,adventure:3,drama:3}),a=Object(s.a)(n,2),c=a[0],i=a[1],l={1:Object(d.jsx)(N.a,{}),2:Object(d.jsx)(C.a,{}),3:Object(d.jsx)(T.a,{}),4:Object(d.jsx)(R.a,{}),5:Object(d.jsx)(S.a,{})},o=["terrible","bad","normal","good","wonderful"],j=function(e){var t=e.genre;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(D,{level:2,children:["Please rate genre: ",t]}),Object(d.jsx)(p.a,{className:I.a.formRate,defaultValue:c[t],character:function(e){var t=e.index;return l[t+1]},tooltips:o,allowClear:!1,onChange:function(e){i((function(){return Object.assign({},c,Object(O.a)({},t,e))}))}})]})},m=[{title:"Type your name",content:Object(d.jsx)(_.a,{className:I.a.nameInput,value:c.name,size:"large",placeholder:"Type your name here",prefix:Object(d.jsx)(F.a,{}),onChange:function(e){i(Object.assign({},c,{name:e.target.value})),e.target.focus({cursor:"end"})}})},{title:"Rate genre: Comedy",content:Object(d.jsx)(j,{genre:"comedy"})},{title:"Rate genre: Sci-fi",content:Object(d.jsx)(j,{genre:"sci-fi"})},{title:"Rate genre: Entertainment",content:Object(d.jsx)(j,{genre:"entertainment"})},{title:"Rate genre: Adventure",content:Object(d.jsx)(j,{genre:"adventure"})},{title:"Rate genre: Drama",content:Object(d.jsx)(j,{genre:"drama"})}],u=r.a.useState(0),f=Object(s.a)(u,2),b=f[0],x=f[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h.a,{current:b,children:m.map((function(e){return Object(d.jsx)(A,{title:e.title},e.title)}))}),Object(d.jsxs)("div",{className:I.a.stepsAction,children:[b<m.length-1&&Object(d.jsx)(v.a,{size:"large",type:"primary",onClick:function(){x(b+1)},children:"Next"}),b===m.length-1&&Object(d.jsx)(v.a,{size:"large",type:"primary",onClick:function(){y.b.success("Your data filled!"),console.log(c),t.send(JSON.stringify({type:"CLIENTDATA",data:c}))},children:"Done"}),b>0&&Object(d.jsx)(v.a,{size:"large",style:{margin:"0 8px"},onClick:function(){x(b-1)},children:"Previous"})]}),Object(d.jsx)("div",{className:I.a.stepsContent,children:m[b].content})]})},M=(n(202),n(116)),z=n.n(M),J=n(211),L=n(33),B=n.n(L),E=l.a.Title,P=l.a.Paragraph,V=function(e){var t=e.data,n=e.ws,a=r.a.useState(!1),c=Object(s.a)(a,2),i=c[0],l=c[1],o=r.a.useState(localStorage.getItem(String(t.id))?localStorage.getItem(String(t.id)):"No rating"===t.rating?0:t.rating),j=Object(s.a)(o,2),m=j[0],u=j[1];return Object(d.jsxs)("div",{className:B.a.film,children:[Object(d.jsx)("img",{className:B.a.filmImg,src:t.img,alt:t.title}),Object(d.jsx)(E,{className:B.a.filmTitle,children:t.title}),Object(d.jsx)(p.a,{className:B.a.filmRate,value:m,onChange:function(e){u(e),localStorage.setItem(String(t.id),String(e)),console.log(t.id),n.send(JSON.stringify({type:"NEWRATING",data:{id:t.id,newRating:e}}))}}),Object(d.jsx)(v.a,{size:"large",className:B.a.learnMoreButton,type:"ghost",onClick:function(){l(!0)},children:"Learn more"}),Object(d.jsx)(J.a,{className:B.a.learnMoreModal,title:t.title,visible:i,onCancel:function(){l(!1)},footer:null,centered:!0,children:Object(d.jsxs)("div",{className:B.a.learnMoreContent,children:[Object(d.jsx)("img",{className:B.a.filmImg,src:t.img,alt:t.title}),Object(d.jsx)(P,{className:B.a.filmDescripion,children:t.description})]})})]})},Y=x.a.Header,G=x.a.Content,W=x.a.Footer,Q=l.a.Title;var U=function(){var e=new WebSocket("ws://rocky-savannah-28997.herokuapp.com/"),t=r.a.useState({comedy:null,"sci-fi":null,entertainment:null,adventure:null,drama:null}),n=Object(s.a)(t,2),a=n[0],c=n[1];e.onmessage=function(e){c(JSON.parse(e.data)),console.log(a)};var i=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{children:"Recommended comedies:"}),a.comedy?a.comedy.map((function(t,n){return Object(d.jsx)(V,{data:t,ws:e},n)})):null]})},l=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{children:"Recommended sci-fi films:"}),a["sci-fi"]?a["sci-fi"].map((function(t,n){return Object(d.jsx)(V,{data:t,ws:e},n)})):null]})},o=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{children:"Recommended entertainment films:"}),a.entertainment?a.entertainment.map((function(t,n){return Object(d.jsx)(V,{data:t,ws:e},n)})):null]})},j=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{children:"Recommended adventure films:"}),a.adventure?a.adventure.map((function(t,n){return Object(d.jsx)(V,{data:t,ws:e},n)})):null]})},m=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Q,{children:"Recommended dramas:"}),a.drama?a.drama.map((function(t,n){return Object(d.jsx)(V,{data:t,ws:e},n)})):null]})};return Object(d.jsxs)(x.a,{className:"layout, App",children:[Object(d.jsx)(g.a,{}),Object(d.jsx)(Y,{className:z.a.header,children:Object(d.jsx)(b,{})}),Object(d.jsxs)(G,{style:{padding:"50px"},children:[Object(d.jsx)(k,{ws:e}),a.comedy?Object(d.jsx)(i,{}):Object(d.jsx)(d.Fragment,{}),a["sci-fi"]?Object(d.jsx)(l,{}):Object(d.jsx)(d.Fragment,{}),a.entertainment?Object(d.jsx)(o,{}):Object(d.jsx)(d.Fragment,{}),a.adventure?Object(d.jsx)(j,{}):Object(d.jsx)(d.Fragment,{}),a.drama?Object(d.jsx)(m,{}):Object(d.jsx)(d.Fragment,{})]}),Object(d.jsx)(W,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,220)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(U,{})}),document.getElementById("root")),q()},33:function(e,t,n){e.exports={film:"film_film__3Vblu",filmImg:"film_filmImg__3qzy-",filmTitle:"film_filmTitle__o720M",filmRate:"film_filmRate__Q3ty-",learnMoreButton:"film_learnMoreButton__2YWLy",learnMoreContent:"film_learnMoreContent__2pQU_",filmDescripion:"film_filmDescripion__2dK4R"}},63:function(e,t,n){e.exports={stepsAction:"form_stepsAction__1JXc4",stepsContent:"form_stepsContent__3woYl",nameInput:"form_nameInput__3VNzL",formRate:"form_formRate__2Glnj",invisible:"form_invisible__1imnJ"}},88:function(e,t,n){e.exports={headerTitle:"header_headerTitle__2GpiO",headerDivider:"header_headerDivider__3IxLx",headerText:"header_headerText__2w9V4"}}},[[203,1,2]]]);
//# sourceMappingURL=main.decfbec7.chunk.js.map